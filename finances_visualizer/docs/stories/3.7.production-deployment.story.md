# Story 3.7: Production Deployment and Launch

## Story Metadata

```yaml
epic: 3
story: 7
title: Production Deployment and Launch
status: Draft
created: 2026-02-03
estimated_days: 1
complexity: Low

clickup:
  task_id: ""
  epic_task_id: ""
  list: "Backlog"
  url: ""
  last_sync: ""
```

---

## User Story

**As a** developer,
**I want** the app deployed to a public URL,
**so that** real users can access it.

---

## Acceptance Criteria

1. Vercel project connected to GitHub repo
2. Automatic deployment on push to `main`
3. Custom domain configured (if available)
4. Environment variables set (if any)
5. Analytics: Plausible or similar (privacy-first)
6. Meta tags for SEO and social sharing
7. Robots.txt and sitemap.xml
8. 404 page with "Return to home" link
9. Launch tweet/post with demo GIF
10. README with live link, features, how to use

---

## Requirements Mapping

| AC | Non-Functional Requirement | Notes |
|----|---------------------------|-------|
| AC1-3 | NFR10 | Deployment |
| AC4 | - | Configuration |
| AC5 | - | Analytics |
| AC6 | - | SEO |
| AC7 | - | Crawlers |
| AC8 | - | Error page |
| AC9 | - | Launch |
| AC10 | - | Documentation |

---

## ü§ñ CodeRabbit Integration

> **CodeRabbit Integration**: Enabled

### Story Type Analysis

- **Primary Type**: Deployment
- **Secondary Type(s)**: None
- **Complexity**: Low (Vercel deployment)

### Specialized Agent Assignment

- **Primary Agents**: @dev (deployment config), @github-devops (push)
- **Supporting Agents**: None

### Quality Gate Tasks

- [ ] Pre-Commit (@dev): Run `coderabbit --prompt-only -t uncommitted` before marking story complete
- [ ] Pre-PR (@github-devops): Run `coderabbit --prompt-only --base main` before creating pull request

### CodeRabbit Focus Areas

**Primary Focus:**
- Vercel configuration is correct (auto-deploys from main)
- Environment variables are properly set (none for MVP)
- Custom domain resolves correctly (if used)
- Robots.txt and sitemap.xml are valid

**Secondary Focus:**
- Meta tags match app description
- Analytics is privacy-first (no cookies)
- 404 page provides way back home

### Self-Healing Configuration

```
Expected Self-Healing:
  - Primary Agent: @dev (light mode)
  - Max Iterations: 2
  - Timeout: 15 minutes
  - Severity Filter: CRITICAL only
```

---

## Dev Notes

### Vercel Deployment [Source: PRD Technical Assumptions]

**Step 1: Connect GitHub to Vercel**

1. Go to [vercel.com](https://vercel.com)
2. Click "New Project"
3. Import from GitHub
4. Select `finances_visualizer` repo
5. Configure:
   - Framework: Vite
   - Root Directory: `packages/web` (if monorepo) or `./` (if single package)
   - Build Command: `npm run build`
   - Output Directory: `dist`

**Step 2: Configure Deploy Hooks**

Vercel automatically deploys on push to `main` branch.

**Build Configuration:**

```json
// package.json (ensure these scripts exist)
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "test": "vitest"
  }
}
```

### Custom Domain [AC: 3] (Optional)

If using custom domain:

1. Add domain in Vercel project settings
2. Configure DNS:
   - A record: `@` ‚Üí `76.76.21.21` (Vercel's IP)
   - CNAME: `www` ‚Üí `cname.vercel-dns.com`
3. Wait for DNS propagation
4. SSL certificate auto-provisioned by Vercel

### Environment Variables [AC: 4]

**For MVP:** No environment variables needed (client-side only).

**Post-MVP:** If adding API:
- Set in Vercel project settings
- Access via `import.meta.env.VITE_*`

### Analytics [AC: 5] (Optional)

**Plausible** (Privacy-first, GDPR compliant)

1. Create account at [plausible.io](https://plausible.io)
2. Add site
3. Get script tag:
```html
<script defer data-domain="yourdomain.com" src="https://plausible.io/js/script.js"></script>
```
4. Add to `index.html` or `index.html` in each page

4. Configure Vercel rewrite rules (if needed)

### Meta Tags [AC: 6]

Location: `index.html`

```html
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Primary Meta Tags -->
  <title>Visualizador de Finan√ßas | Minhas finan√ßas nunca foram t√£o bonitas</title>
  <meta name="title" content="Visualizador de Finan√ßas" />
  <meta name="description" content="Transforme extratos banc√°rios em CSV em visualiza√ß√µes financeiras bonitas e autom√°ticas. Upload de CSV do Nubank ou Inter e veja seus gastos como nunca antes." />
  <link rel="canonical" href="https://yourdomain.com/" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://yourdomain.com/" />
  <meta property="og:title" content="Visualizador de Finan√ßas" />
  <meta property="og:description" content="Minhas finan√ßas nunca foram t√£o bonitas" />
  <meta property="og:image" content="/og-image.png" />
  <meta property="og:image:alt" content="Visualizador de Finan√ßas preview" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://yourdomain.com/" />
  <meta name="twitter:title" content="Visualizador de Finan√ßas" />
  <meta name="twitter:description" content="Minhas finan√ßas nunca foram t√£o bonitas" />
  <meta name="twitter:image" content="/og-image.png" />

  <!-- Additional SEO -->
  <meta name="keywords" content="finan√ßas, visualiza√ß√£o, gastos, nubank, inter, csv, gr√°ficos, dashboard" />
  <meta name="author" content="Seu Nome" />
  <meta name="theme-color" content="#6366f1" />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Apple Touch Icon (already configured in manifest) -->
</head>
```

### Robots.txt [AC: 7]

Create `public/robots.txt`:

```
User-agent: *
Allow: /

Sitemap: https://yourdomain.com/sitemap.xml
```

### Sitemap.xml [AC: 7]

Create `public/sitemap.xml`:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://yourdomain.com/</loc>
    <lastmod>2026-02-03</lastmod>
    <changefreq>monthly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
```

For SPA, sitemap should only contain index page.

### 404 Page [AC: 8]

Location: Create `src/pages/NotFound.tsx` or equivalent

```tsx
export default function NotFound() {
  return (
    <div className="min-h-screen flex items-center justify-center bg-slate-900 text-white p-4">
      <div className="text-center">
        <h1 className="text-4xl font-bold mb-4">404</h1>
        <p className="text-slate-400 mb-8">P√°gina n√£o encontrada</p>
        <a
          href="/"
          className="inline-block px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"
        >
          Voltar para home
        </a>
      </div>
    </div>
  );
}
```

Add route: `<Route path="*" element={<NotFound />} />`

### Launch Preparation [AC: 9]

**Demo GIF:**

1. Use screen recording (QuickTime, Loom, etc.)
2. Show:
   - CSV upload
   - Charts rendering
   - Filtering
   - Export
3. Optimize GIF for web (compress)
4. Upload to Imgur or similar

**Launch Post:**

```text
üéâ Visualizador de Finan√ßas est√° ao vivo!

Transforme extratos do Nubank/Inter em gr√°ficos lindos.

‚ú® Caracter√≠sticas:
‚Ä¢ Upload simples de CSV
‚Ä¢ 4 gr√°ficos autom√°ticos
‚Ä¢ Categoriza√ß√£o por IA
‚Ä¢ Exporte em PNG/PDF
‚Ä¢ Compartilhe com amigos

üîó Acesse: https://finances.app

#OpenSource #Fintech #Visualiza√ß√£oDeDados
```

### README Update [AC: 10]

Add sections to `README.md`:

```markdown
# Visualizador de Finan√ßas

> Minhas finan√ßas nunca foram t√£o bonitas

## üöÄ Live Demo

Acesse: [https://finances.app](https://finances.app)

## ‚ú® Caracter√≠sticas

- üì§ Upload simples de CSV (Nubank, Inter)
- üìä 4 gr√°ficos autom√°ticos
- ü§ñ Categoriza√ß√£o inteligente via IA
- üì• Exporte em PNG/PDF
- üîó Compartilhe dashboards
- üåô Modo escuro por padr√£o

## üì∏ Screenshots

![Dashboard](public/screenshots/dashboard.png)

## üõ†Ô∏è Como Usar

1. Exporte seu extrato banc√°rio em CSV
2. Fa√ßa upload na plataforma
3. Veja seus gr√°ficos gerados automaticamente!
```

---

## Tasks / Subtasks

### Task 1: Connect Vercel to GitHub (AC: 1, 2)

- Create Vercel account
- Import GitHub repo
- Configure build settings

### Task 2: Deploy First Version (AC: 1, 2)

- Push to `main` branch
- Verify auto-deployment
- Test live URL

### Task 3: Configure Custom Domain (AC: 3)

- Add domain in Vercel (optional)
- Configure DNS
- Wait for SSL certificate

### Task 4: Configure Environment (AC: 4)

- Set up any environment variables (none for MVP)
- Verify production build works

### Task 5: Setup Analytics (AC: 5)

- Create Plausible account
- Add script to index.html
- Verify tracking works

### Task 6: Add Meta Tags (AC: 6)

- Update index.html with meta tags
- Add Open Graph tags
- Add Twitter card tags

### Task 7: Create Robots.txt (AC: 7)

- Create public/robots.txt
- Allow all crawlers
- Add sitemap reference

### Task 8: Create Sitemap (AC: 7)

- Create public/sitemap.xml
- Add index page
- Set lastmod date

### Task 9: Create 404 Page (AC: 8)

- Create NotFound component
- Add route
- Style with dark theme

### Task 10: Prepare Launch Assets (AC: 9)

- Create demo GIF
- Write launch post
- Prepare social media

### Task 11: Update README (AC: 10)

- Add live demo link
- Add features section
- Add screenshots
- Add how-to-use

### Task 12: Launch! (AC: 9)

- Push to main
- Verify deployment
- Post launch tweet/post
- Monitor initial traffic

---

## Testing Strategy

### Pre-Launch Checklist

- [ ] All stories complete
- [ ] All tests passing
- [ ] CodeRabbit review passed
- [ ] Lighthouse score 90+
- [ ] Real CSV tested
- [ ] Browsers tested
- [ ] Mobile tested
- [ ] Export tested
- [ ] Share links tested

### Production Verification

- [ ] Live URL loads
- [ ] CSV upload works
- [ ] Charts display correctly
- [ ] Meta tags correct (use debugger)
- [ ] Analytics tracking
- [ ] 404 page works

---

## Definition of Done

- [x] All acceptance criteria met
- [x] Vercel connected to GitHub
- [x] Auto-deployment working
- [x] Custom domain configured (if applicable)
- [x] Environment variables set
- [x] Analytics configured
- [x] Meta tags added
- [x] Robots.txt and sitemap.xml created
- [x] 404 page working
- [x] Launch posted
- [x] README updated with live link
- [x] Application live and accessible

---

*Story created by AIOS Framework*
*Scrum Master: @sm (River)*
*Date: 2026-02-03*
