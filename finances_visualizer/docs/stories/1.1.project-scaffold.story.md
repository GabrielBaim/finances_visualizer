# Story 1.1: Project Scaffold andå¼€å‘ç¯å¢ƒ Setup

## Story Metadata

```yaml
epic: 1
story: 1
title: Project Scaffold andå¼€å‘ç¯å¢ƒ Setup
status: Ready for Review
created: 2026-02-03
estimated_days: 1
complexity: Low

clickup:
  task_id: ""
  epic_task_id: ""
  list: "Backlog"
  url: ""
  last_sync: ""
```

---

## User Story

**As a** developer,
**I want** a modern React + Vite + TypeScript project with Tailwind CSS configured,
**so that** I can start building features immediately with a solid foundation.

---

## Acceptance Criteria

1. Vite + React 18 + TypeScript project created with ESLint + Prettier
2. Tailwind CSS configured with dark theme colors (purple/emerald/rose)
3. Folder structure: `src/components`, `src/lib`, `src/types`, `src/hooks`
4. Vitest configured with at least one passing test
5. Git repo initialized with conventional commits setup
6. README with project overview and dev commands
7. `.gitignore` excludes `node_modules`, `dist`, `.env`

---

## Requirements Mapping

| AC | Functional Requirement | Notes |
|----|----------------------|-------|
| AC1 | Foundation setup | Vite scaffold |
| AC2 | Dark theme config | Tailwind colors |
| AC3 | Project structure | Follow PRD structure |
| AC4 | Testing ready | Vitest base setup |
| AC5 | Version control | Conventional commits |
| AC6 | Documentation | README |
| AC7 | Clean git | Proper exclusions |

---

## ğŸ¤– CodeRabbit Integration

> **CodeRabbit Integration**: Enabled
>
> CodeRabbit CLI will be used for quality validation. See focus areas below.

### Story Type Analysis

- **Primary Type**: Deployment/Infrastructure
- **Secondary Type(s)**: Frontend
- **Complexity**: Low (single setup task, well-defined)

### Specialized Agent Assignment

- **Primary Agents**: @dev (scaffold + configuration)
- **Supporting Agents**: None needed

### Quality Gate Tasks

- [ ] Pre-Commit (@dev): Run `coderabbit --prompt-only -t uncommitted` before marking story complete
- [ ] Pre-PR (@github-devops): Run `coderabbit --prompt-only --base main` before creating pull request

### CodeRabbit Focus Areas

**Primary Focus:**
- Tailwind configuration matches PRD color scheme (#6366f1, #8b5cf6, #10b981, #f43f5e)
- TypeScript properly configured (strict mode)
- ESLint + Prettier working together
- Vitest can run tests successfully

**Secondary Focus:**
- README includes all required sections
- `.gitignore` excludes correct files
- Folder structure matches PRD specification

### Self-Healing Configuration

```
Expected Self-Healing:
  - Primary Agent: @dev (light mode)
  - Max Iterations: 2
  - Timeout: 15 minutes
  - Severity Filter: CRITICAL only

Predicted Behavior:
  - CRITICAL issues: auto_fix (up to 2 iterations)
  - HIGH issues: document_only (noted in Dev Notes)
```

---

## Dev Notes

### Architecture Context

> **Note**: No architecture documents exist yet. This is the foundation story that establishes theå¼€å‘ç¯å¢ƒ. All technical decisions come from the PRD Technical Assumptions section.

### Technical Stack from PRD [Source: docs/prd.md#Technical Assumptions]

**Frontend Framework:**
- React 18 with Vite
- TypeScript for type safety

**Styling:**
- Tailwind CSS with dark theme colors:
  - Primary: Purple gradient `#6366f1 â†’ #8b5cf6`
  - Income: Emerald `#10b981`
  - Expense: Rose `#f43f5e`
  - Background: Dark `#0f172a`

**State Management (Future):**
- Zustand (lightweight) - for later stories

**Testing:**
- Vitest for unit tests
- Configured from day 1

**Build Tool:**
- Vite (fast HMR, optimized builds)

### Project Structure [Source: docs/prd.md#Repository Structure]

```
finances_visualizer/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ web/          # React + Vite frontend
â”‚   â””â”€â”€ csv-parser/   # Shared parsing logic (future)
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ web/          # Main web application
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/   # React components
â”‚   â”œâ”€â”€ lib/          # Utilities and helpers
â”‚   â”œâ”€â”€ types/        # TypeScript type definitions
â”‚   â””â”€â”€ hooks/        # Custom React hooks
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ .gitignore
```

### Configuration Files Required

**vite.config.ts:**
- React plugin
- Path aliases (@/ â†’ src)
- Build optimizations

**tsconfig.json:**
- Strict mode enabled
- Path aliases matching Vite
- ESNext target

**tailwind.config.js:**
- Dark theme colors from PRD
- Content paths for components
- Custom animations (for later Framer Motion)

**.gitignore:**
- `node_modules/`
- `dist/`
- `.env`
- `.env.local`
- `*.log`

**package.json scripts:**
- `dev` - Start dev server
- `build` - Production build
- `test` - Run Vitest
- `lint` - Run ESLint
- `typecheck` - TypeScript check

### Git Configuration

- Initialize git repo
- Set up conventional commits (husky + commitlint optional for MVP)
- Create initial commit with scaffold

### README Content [Source: docs/prd.md#Epic 1]

Must include:
- Project name and description
- "Minhas finanÃ§as nunca foram tÃ£o bonitas" tagline
- Tech stack list
- Development commands
- Link to live demo (when deployed)
- MIT License badge

### Known Issues / Gotchas

1. **Monorepo Decision**: PRD specifies monorepo structure with `packages/web`. For 30-day challenge, may simplify to single package first. Recommend confirming with user before full Turborepo setup.

2. **Tailwind Dark Mode**: PRD specifies dark mode default. Ensure `darkMode: 'class'` is NOT set - we want dark by default without toggle for MVP.

3. **Vitest Setup**: At minimum, create `src/lib/__tests__/sample.test.ts` with one passing test to verify setup.

---

## Tasks / Subtasks

### Task 1: Initialize Vite + React + TypeScript (AC: 1) âœ…

- [x] Run `npm create vite@latest packages/web -- --template react-ts`
- [x] Verify project structure created
- [x] Run `npm install` to install dependencies
- [x] Start dev server to confirm setup works

### Task 2: Configure Tailwind CSS with Dark Theme (AC: 2) âœ…

- [x] Install Tailwind: `npm install -D tailwindcss postcss autoprefixer`
- [x] Initialize Tailwind config
- [x] Configure colors in `tailwind.config.js`:
  ```js
  colors: {
    primary: {
      DEFAULT: '#6366f1',
      dark: '#8b5cf6',
    },
    income: '#10b981',
    expense: '#f43f5e',
    background: '#0f172a',
  }
  ```
- [x] Configure base index.css with Tailwind directives
- [x] Set dark background color as default

### Task 3: Create Folder Structure (AC: 3) âœ…

- [x] Create directories: `src/components`, `src/lib`, `src/types`, `src/hooks`
- [x] Create placeholder index files in each (barrel exports)
- [x] Verify Vite can resolve imports from these folders

### Task 4: Setup Vitest with Sample Test (AC: 4) âœ…

- [x] Install Vitest: `npm install -D vitest @testing-library/react @testing-library/jest-dom`
- [x] Configure Vitest in `vite.config.ts`
- [x] Create `src/lib/__tests__/sample.test.ts` with basic test
- [x] Run `npm test` to verify passing

### Task 5: Configure Git and Conventional Commits (AC: 5) âœ…

- [x] Initialize git: `git init`
- [x] Create initial commit
- [x] (Optional) Install commitlint for conventional commits validation
- [x] Configure `.gitignore`

### Task 6: Create README (AC: 6) âœ…

- [x] Create README.md with:
  - Project title: "Visualizador de FinanÃ§as"
  - Tagline: "Minhas finanÃ§as nunca foram tÃ£o bonitas"
  - Tech stack section (React, Vite, TypeScript, Tailwind)
  - Development commands
  - License section

### Task 7: Configure .gitignore (AC: 7) âœ…

- [x] Create `.gitignore` with:
  - `node_modules/`
  - `dist/`
  - `.env`
  - `.env.local`
  - `*.log`
  - `.DS_Store`

---

## Testing Strategy

### Unit Tests (Vitest)

- Test: Sample utility function in `src/lib`
- Verify: Vitest can run and pass tests
- Coverage: Not required for this story (setup only)

### Manual Verification

1. Run `npm run dev` - dev server starts on localhost
2. Open browser - see default Vite React page
3. Check dark background is applied
4. Run `npm run test` - Vitest passes
5. Run `npm run lint` - ESLint runs without errors
6. Run `npm run typecheck` - TypeScript compiles without errors

---

## Definition of Done

- [x] All acceptance criteria met
- [x] README.md created with all required sections
- [x] `.gitignore` properly configured
- [x] Vitest runs with at least one passing test
- [x] Dev server starts without errors
- [x] TypeScript compiles without errors
- [x] Tailwind dark theme colors match PRD specification
- [x] Git repository initialized
- [x] Initial commit created with scaffold

---

## Story Completion Checklist

- [x] Code complete per acceptance criteria
- [x] All tests passing
- [ ] CodeRabbit pre-commit review passed
- [x] Manual testing completed
- [x] README updated if needed
- [x] Ready for handoff to next story

---

*Story created by AIOS Framework*
*Scrum Master: @sm (River)*
*Date: 2026-02-03*
